# ============================================
# Sider2Claude 环境配置示例
# ============================================

# ============= 服务器配置 =============
PORT=4141
NODE_ENV=development
LOG_LEVEL=info

# ============= 客户端认证配置 =============
# AUTH_TOKEN: 客户端使用的认证 Token
# 设置此值后,客户端必须使用此 Token 才能访问 API
# 如果不设置,则接受任何有效格式的 Token (向后兼容模式)
AUTH_TOKEN=your-custom-auth-token-here

# ============= Sider AI 配置 =============
SIDER_API_URL=https://sider.ai/api/chat/v1/completions
# SIDER_AUTH_TOKEN: 从 sider.ai 获取的 JWT Token
SIDER_AUTH_TOKEN=eyJhbGci...

# ============= Anthropic API 配置 (可选) =============
# 如果配置了官方 API，系统将智能路由:
# - 简单对话 → Sider AI (免费)
# - 工具调用/MCP/子代理 → Anthropic API (付费但功能完整)

# Anthropic API Base URL (默认: https://api.anthropic.com)
# ANTHROPIC_BASE_URL=https://api.anthropic.com

# Anthropic API Key (留空则不启用官方 API)
# ANTHROPIC_API_KEY=sk-ant-xxx...

# ============= 路由配置 =============
# 默认后端: sider | anthropic
DEFAULT_BACKEND=sider

# 自动降级: true | false
# 当主后端失败时，自动切换到备用后端
AUTO_FALLBACK=true

# 简单对话优先使用 Sider: true | false
# 开启后，纯对话请求优先使用 Sider AI 以节省成本
PREFER_SIDER_FOR_CHAT=true

# 调试模式: true | false
# 开启后会打印详细的路由决策和请求分析信息
DEBUG_ROUTING=false

# ============= 其他配置 =============
REQUEST_TIMEOUT=30000

# ============================================
# 配置说明
# ============================================

# 场景 1: 只使用 Sider AI (免费)
# - 配置 SIDER_AUTH_TOKEN
# - 不配置 ANTHROPIC_API_KEY
# - 结果: 只能使用 Sider AI，工具调用功能不可用

# 场景 2: 只使用 Anthropic API (付费但功能完整)
# - 不配置 SIDER_AUTH_TOKEN
# - 配置 ANTHROPIC_API_KEY
# - 结果: 所有请求都用官方 API，成本较高但功能完整

# 场景 3: 混合使用 (推荐) ⭐
# - 同时配置 SIDER_AUTH_TOKEN 和 ANTHROPIC_API_KEY
# - 设置 PREFER_SIDER_FOR_CHAT=true
# - 结果: 智能路由，成本和功能兼得
#   * 简单对话 → Sider AI (免费)
#   * 工具调用 → Anthropic API (付费)
#   * 节省 75-90% 成本

# ============================================
# 获取 Token 的方法
# ============================================

# Sider AI Token:
# 1. 访问 https://sider.ai 并登录
# 2. 打开开发者工具 (F12) → Network
# 3. 发送一条消息
# 4. 找到 completions 请求
# 5. 复制 Authorization header 中的 Token (以 eyJhbGci 开头)

# Anthropic API Key:
# 1. 访问 https://console.anthropic.com
# 2. 登录并进入 API Keys 页面
# 3. 创建新的 API Key (以 sk-ant- 开头)
